<script props>
  let styles = [
    `height: ${props.height || "1px"};`,
    `line-height: ${props.height || "1px"};`,
  ];

  let hasBgClass = () =>
    props.class && props.class.split(" ").some((c) => c.startsWith("bg-"));

  if (props.color) {
    styles.push(`background-color: ${props.color};`);
  }
  if (!props.color && !hasBgClass()) {
    styles.push(`background-color: #cbd5e1;`);
  }

  if (
    props.top ||
    props.bottom ||
    props.left ||
    props.right ||
    props["space-y"] ||
    props["space-x"]
  ) {
    styles.push("margin: 0;");
  }

  props["space-y"] = props["space-y"] === 0 ? "0px" : props["space-y"];
  if (props["space-y"]) {
    styles.push(
      `margin-top: ${props["space-y"]}; margin-bottom: ${props["space-y"]};`,
    );
  }

  props["space-x"] = props["space-x"] === 0 ? "0px" : props["space-x"];
  if (props["space-x"]) {
    styles.push(
      `margin-left: ${props["space-x"]}; margin-right: ${props["space-x"]};`,
    );
  }

  props.top = props.top === 0 ? "0px" : props.top;
  if (props.top) {
    styles.push(`margin-top: ${props.top};`);
  }

  props.bottom = props.bottom === 0 ? "0px" : props.bottom;
  if (props.bottom) {
    styles.push(`margin-bottom: ${props.bottom};`);
  }

  props.left = props.left === 0 ? "0px" : props.left;
  if (props.left) {
    styles.push(`margin-left: ${props.left};`);
  }

  props.right = props.right === 0 ? "0px" : props.right;
  if (props.right) {
    styles.push(`margin-right: ${props.right};`);
  }

  module.exports = {
    styles: styles.join(""),
  };
</script>

<div role="separator" style="{{ styles }}">&zwj;</div>
