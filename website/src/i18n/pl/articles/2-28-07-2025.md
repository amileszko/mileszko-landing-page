# 💸 OPEX w dół o 80% w 3 dni. Jak obniżyć koszty chmury bez refaktoryzacji?

Koszty chmury rzadko kiedy są pod kontrolą. Szczególnie w MVP i projektach, które startowały „na szybko”. Efekt? **Rachunek na 20–100 tys. zł miesięcznie**, z czego często ponad połowa to niepotrzebny wydatek.

\
To nie musi tak wyglądać.

\
W tym artykule pokażę Ci, jak przeprowadzić skuteczną **optymalizację kosztów chmury (FinOps)** w 3–5 dni – bez grzebania w kodzie i bez przepisywania architektury.

---

## 🧠 Czego dowiesz się z tego artykułu?

* ➡️ Zidentyfikujesz 5 obszarów, w których projekty SaaS/AI najczęściej przepalają budżet.
* ➡️ Poznasz zmiany, które przynoszą **80% oszczędności**.
* ➡️ Otrzymasz 3-dniowy plan na **audyt FinOps** bez przerywania pracy systemu.
* ➡️ Dowiesz się, które zadania możesz wykonać samodzielnie, a co warto zlecić ekspertowi.

---

## ⚠️ Gdzie najczęściej przepalasz budżet? 5 głównych źródeł kosztów

W moim doświadczeniu te same 5 obszarów generuje największy, niepotrzebny **OPEX** w większości projektów. Dobra wiadomość jest taka, że są one najłatwiejsze do optymalizacji.

### 1. Nieefektywne środowiska deweloperskie (staging/dev) działające 24/7

Brak harmonogramu pracy środowisk nieprodukcyjnych to klasyczny błąd.

* 🟥 **Problem:** Dev i staging zużywają zasoby nawet wtedy, gdy nikt z nich nie korzysta (w nocy, w weekendy). Często są to pełne instancje baz danych i klastrów Kubernetes (EKS).
* ✅ **Rozwiązanie:**
    * **Ustaw harmonogram wyłączania zasobów** (np. `start 8:00`, `stop 20:00`) dla środowisk deweloperskich.
    * Wprowadź **środowiska efemeryczne** (tworzone na czas życia pull requestu) zamiast stałych.
    * Ustaw limity budżetowe i **CPU caps** dla zasobów nieprodukcyjnych.

### 2. Brak polityki retencji logów

Logujesz wszystko i trzymasz w nieskończoność.

* 🟥 **Problem:** Koszty narzędzi takich jak **CloudWatch, Sentry czy Datadog** potrafią przewyższyć sumę kosztów storage'u i mocy obliczeniowej. Nikt nie analizuje logów starszych niż kilka dni.
* ✅ **Rozwiązanie:**
    * Ustaw **politykę retencji logów** na 3–7 dni w narzędziu monitorującym.
    * Skonfiguruj automatyczny eksport starszych logów do taniego storage'u (np. **AWS S3 + Glacier**) na potrzeby archiwizacji.
    * Alertuj tylko o zdarzeniach krytycznych, zamiast logować każdy event na najwyższym poziomie szczegółowości.

### 3. Koszty modeli językowych (LLM) bez kontroli

Każde zapytanie do API OpenAI, Anthropic czy Mistral to bezpośredni koszt.

* 🟥 **Problem:** Brak cache'owania (każde odświeżenie strony to nowe, płatne zapytanie), niekontrolowane użycie przez testy automatyczne i używanie produkcyjnych kluczy API na stagingu.
* ✅ **Rozwiązanie:**
    * **Wprowadź cache lub mocki** dla zapytań do LLM na środowiskach deweloperskich i testowych.
    * **Ustaw limity tokenów** (throttling) per użytkownik lub klucz API.
    * Używaj `gpt-4` tylko do zadań, które tego wymagają. W 80% przypadków wystarczy tańszy `gpt-3.5-turbo`, embedding lub reranking.

### 4. Zbędne zasoby: stare snapshoty, obrazy kontenerów i pliki

Z czasem chmura naturalnie „puchnie” od niepotrzebnych danych.

* 🟥 **Problem:** Miesiące starych snapshotów baz danych (RDS), nieużywane wersje obrazów w repozytorium kontenerów (ECR) oraz pliki tymczasowe w S3 po funkcjach, które już nie istnieją.
* ✅ **Rozwiązanie:**
    * **Skonfiguruj reguły cyklu życia (lifecycle rules)**, np. automatyczne usuwanie snapshotów starszych niż 30 dni lub przenoszenie danych do archiwum.
    * Użyj skryptu (cron job) do okresowego czyszczenia nieużywanych obrazów kontenerów.
    * **Taguj wszystkie zasoby** – to pozwala łatwo zidentyfikować, co jest przestarzałe lub nieużywane.

### 5. Brak centralnego dashboardu FinOps

Jeśli nie wiesz, co ile kosztuje, nie możesz podejmować świadomych decyzji.

* 🟥 **Problem:** Brak tagowania zasobów (wszystko wpada do jednego worka „shared”), brak wizualizacji zużycia i alertów o nagłych wzrostach kosztów.
* ✅ **Rozwiązanie:**
    * **Wprowadź obowiązkowe tagowanie zasobów** (`env`, `team`, `service`), najlepiej z poziomu kodu (np. w **Terraform**).
    * Zbuduj prosty dashboard pokazujący koszty w podziale na projekty, mikroserwisy i zespoły.
    * **Ustaw alerty budżetowe**, które powiadomią Cię (np. na Slacku), gdy zużycie gwałtownie wzrośnie.

---

## 🛠 Twój 3-dniowy plan na wdrożenie FinOps

Nie potrzebujesz tygodni konsultacji. Oto plan, który możesz zrealizować w 3 dni.

### ✅ Dzień 1 – Audyt i identyfikacja kosztów

* [ ] Otaguj 100% zasobów (`env`, `project`, `team`).
* [ ] Zidentyfikuj 5 usług generujących najwyższe koszty w miesięcznym rachunku.
* [ ] Sprawdź harmonogram pracy środowisk deweloperskich.
* [ ] Zapytaj zespół, gdzie ich zdaniem marnowane są zasoby.

### ✅ Dzień 2 – Sprzątanie i automatyzacja

* [ ] Wdróż harmonogram automatycznego wyłączania środowisk dev/staging.
* [ ] Ustaw politykę retencji logów i eksport do S3.
* [ ] Wyczyść S3, ECR i usuń stare snapshoty.
* [ ] Dodaj do kalendarza zespołu cykliczne, comiesięczne zadanie "FinOps Cleanup".

### ✅ Dzień 3 – Kontrola i monitoring

* [ ] Ustaw limity i token caps dla modeli LLM.
* [ ] Wdróż cache dla zapytań do AI na środowiskach nieprodukcyjnych.
* [ ] Zbuduj pierwszy dashboard FinOps z podziałem na kluczowe usługi.
* [ ] Skonfiguruj alerty powiadamiające o przekroczeniu progów budżetowych.

---

## 🤔 Czy to wymaga zmian w architekturze?

Nie. W 80% przypadków wysoki **OPEX** nie jest winą architektury, a braku porządku i podstawowej higieny operacyjnej.

> **FinOps to w 90% automatyzacja i dobre nawyki, a nie refaktoryzacja.** Efekt to niższe koszty i większa kontrola bez ani jednej zmiany w kodzie aplikacji.

---

## 👉 Co możesz zrobić teraz?

Jeśli Twój miesięczny rachunek za chmurę przekracza 20 tys. zł, zacznij działać. W ciągu 3 dni jesteś w stanie samodzielnie zredukować koszty o co najmniej 30-40%.

\
Chcesz osiągnąć pełne **80% oszczędności** szybciej i bez eksperymentów?

> Zamów **audyt FinOps**. W 3 dni dostaniesz nie tylko analizę kosztów, ale gotowy plan działania i wsparcie we wdrożeniu rekomendacji.

**⬇️ Zamów audyt FinOps – odzyskaj kontrolę nad kosztami w 3 dni**
