# 🎯 Koniec z gaszeniem pożarów. Czym są SLA, SLO i Error Budget i jak zrównoważyć szybkość z niezawodnością?

Wyobraź sobie typową rozmowę w rosnącym SaaS-ie. Zespół produktowy chce jak najszybciej wdrażać nowe funkcje. Zespół operacyjny desperacko próbuje utrzymać stabilność systemu, który staje się coraz bardziej złożony. Jedni naciskają na "więcej i szybciej", drudzy hamują, bo "wszystko się zaraz zawali".

\
Kto ma rację? Obie strony.

\
Ten konflikt wynika z braku wspólnego języka i mierzalnych celów. Rozwiązaniem jest jedno z najpotężniejszych narzędzi nowoczesnej inżynierii, spopularyzowane przez Google: **Service Level Objectives (SLO)** i koncepcja **Budżetu Błędów (Error Budget)**.

\
Ten artykuł to praktyczny przewodnik dla CTO i Founderów. Pokażę Ci, jak przestać zgadywać i zacząć świadomie zarządzać stabilnością, używając danych do równoważenia innowacji z niezawodnością.

---

## 🤯 SLA, SLO, SLI: O co w tym chodzi? (Proste wyjaśnienie)

Zanim dojdziemy do sedna, musimy szybko wyjaśnić trzy terminy, które są notorycznie mylone. Użyjmy prostej analogii do dostawy pizzy.

* ➡️ **SLA (Service Level Agreement): UMOWA Z KLIENTEM**
    * **Co to jest:** To jest **kontrakt**, który podpisujesz z klientem i który określa **biznesowe konsekwencje** niedotrzymania obietnicy.
    * **Przykład z pizzerii:** "Gwarantujemy dostawę w 30 minut. Jeśli się spóźnimy, dostajesz pizzę za darmo."
    * **Twój świat (SaaS):** "Gwarantujemy 99,5% dostępności w miesiącu. Jeśli nie dowieziemy, otrzymasz 10% zniżki na kolejną fakturę."
    * **Kluczowa myśl:** SLA jest luźno powiązane z Twoją realną technologią. To narzędzie marketingowe i prawne, które *musi być mniej restrykcyjne* niż Twój wewnętrzny cel.

* ➡️ **SLO (Service Level Objective): WEWNĘTRZNY CEL INŻYNIERSKI**
    * **Co to jest:** To jest **wewnętrzny, techniczny cel**, który Twój zespół zobowiązuje się osiągnąć. Jest on znacznie bardziej precyzyjny i ambitny niż SLA.
    * **Przykład z pizzerii:** "Aby zawsze mieścić się w 30 minutach u klienta, 99,9% naszych pizz musi wyjechać z pieca w mniej niż 12 minut."
    * **Twój świat (SaaS):** "Aby zagwarantować klientowi 99,5% (SLA), naszym wewnętrznym celem (SLO) jest 99,95% dostępności."
    * **Kluczowa myśl:** SLO to Twój realny cel. Jeśli go łamiesz, działasz, zanim złamiesz SLA i zaczniesz tracić pieniądze.

* ➡️ **SLI (Service Level Indicator): WSKAŹNIK (MIERNIK)**
    * **Co to jest:** To jest **surowy pomiar**, którego używasz do obliczenia, czy osiągasz swój cel (SLO).
    * **Przykład z pizzerii:** "Procent pizz, które wyjechały z pieca w < 12 minut."
    * **Twój świat (SaaS):** "Procent zapytań do API, które zakończyły się sukcesem (kod 2xx/3xx) w ciągu ostatnich 5 minut."
    * **Kluczowa myśl:** SLI musi mierzyć to, co jest naprawdę ważne dla użytkownika (np. błędy, opóźnienia), a nie wewnętrzne metryki (np. zużycie CPU).

---

## 💡 Genialny pomysł Google: Budżet Błędów (Error Budget)

Tu zaczyna się prawdziwa magia. Jeśli Twój cel (SLO) to 99,95% dostępności, co dzieje się z pozostałymi 0,05%?

\
To jest Twój **Budżet Błędów (Error Budget)**.

\
**100% - 99,95% (Twoje SLO) = 0,05% (Twój Budżet Błędów)**

\
Te 0,05% w skali miesiąca to około **22 minuty** akceptowalnego przestoju lub błędów.

\
To nie jest kara. To jest **BUDŻET DO WYDANIA**. To jest Twoja **zgoda na podejmowanie ryzyka**.

\
To fundamentalnie zmienia zasady gry:
* ➡️ **Cel inżynierii zmienia się ze "100% uptime" (co jest niemożliwe i drogie)** na **"utrzymanie się w ramach budżetu błędów"**.
* ➡️ Przestajesz kłócić się o to, "czy możemy wdrażać". Zamiast tego zadajesz pytanie: **"Ile budżetu błędów nam jeszcze zostało w tym miesiącu?"**.

---

## ⚖️ Jak Budżet Błędów równoważy szybkość i stabilność?

Budżet błędów staje się automatycznym, opartym na danych regulatorem prędkości dla Twojego zespołu.

* **Scenariusz 1: Masz dużo budżetu błędów**
    * **Sytuacja:** Jest 20. dzień miesiąca, a Ty wykorzystałeś tylko 5 z 22 minut swojego budżetu. System jest bardzo stabilny.
    * **Decyzja:** **PEŁNA PRĘDKOŚĆ!** To idealny moment na wdrażanie ryzykownych funkcji, przeprowadzanie eksperymentów A/B, aktualizowanie infrastruktury. Zespół produktowy jest szczęśliwy.

* **Scenariusz 2: Właśnie wyczerpałeś budżet błędów**
    * **Sytuacja:** Jest 20. dzień miesiąca, ale poważna awaria zjadła Ci 30 minut budżetu (jesteś 8 minut "na minusie").
    * **Decyzja:** **STOP! ZAMROŻENIE NOWYCH WDROŻEŃ.** Zespół produktowy musi poczekać. Cały zespół inżynierski (a nie tylko DevOps) skupia się teraz w 100% na stabilności: naprawianiu błędów, poprawie monitoringu, optymalizacji. Nowe funkcje zostaną wdrożone dopiero w przyszłym miesiącu, gdy budżet się odnowi.

To podejście kończy debaty oparte na "odczuciach". Dane decydują o tempie rozwoju.

---

## 🚀 Jak zdefiniować i wdrożyć pierwsze SLO? (Plan działania w 4 krokach)

Nie musisz robić tego dla całej aplikacji naraz. Zacznij od jednej, kluczowej usługi (np. API logowania lub API płatności).

* **Krok 1: Wybierz właściwy wskaźnik (SLI).**
    Nie mierz zużycia CPU. Mierz to, co czuje użytkownik. Najlepsze SLI to:
    * 🟢 **Dostępność:** Jaki procent zapytań zwrócił poprawny kod (np. `200 OK`, a nie `500 Error`)?
    * 🟣 **Opóźnienie (Latency):** Jaki procent zapytań został obsłużony wystarczająco szybko (np. poniżej 200 ms)?

* **Krok 2: Ustal realistyczny cel (SLO).**
    Nie zaczynaj od 99,999%. Zmierz obecną wydajność. Jeśli Twoje API ma dziś 99,5% dostępności, ustaw pierwsze SLO na **99,9%**. To ambitne, ale osiągalne. Pamiętaj, że każde "9" po przecinku kosztuje coraz więcej pieniędzy i wysiłku.

* **Krok 3: Zautomatyzuj pomiary i stwórz dashboard.**
    To, czego nie mierzysz, nie istnieje. Użyj narzędzi, które już masz (np. **Datadog, Grafana, New Relic, Prometheus**), aby stworzyć prosty dashboard widoczny dla wszystkich w firmie. 
    
    Powinien on pokazywać dwie rzeczy:

    * 📊 Aktualny poziom SLO (np. 99,92%).
    * 📈 Procent wykorzystania Budżetu Błędów w tym miesiącu (np. 75%).

* **Krok 4: Zdefiniuj zasady gry.**
    Ustal z całym zespołem (produktowym i inżynierskim), co się dzieje, gdy budżet błędów zostanie przekroczony. Spiszcie to. Np.: "Gdy wykorzystanie budżetu przekroczy 100%, wszystkie nowe wdrożenia funkcji są wstrzymane do pierwszego dnia kolejnego miesiąca".

---

## ❌ 3 błędy, których musisz unikać

1.  **Posiadanie SLO, których nikt nie monitoruje.** Jeśli SLO jest tylko w dokumencie, a nie na żywym dashboardzie, to nie działa.
2.  **Karanie za wykorzystanie budżetu.** Budżet błędów jest *do wykorzystania*. To zgoda na ryzyko. Jeśli karzesz za jego przekroczenie, ludzie zaczną ukrywać błędy, a innowacja umrze.
3.  **Ustawianie nierealistycznych celów (np. 100%).** Dążenie do 100% oznacza, że nigdy nie możesz niczego wdrażać. To prosta droga do stagnacji i przegranej z konkurencją.

---

## 👉 Co możesz zrobić teraz?

1.  **Zacznij rozmowę:** Zadaj swojemu zespołowi pytanie: "Jakie jest nasze obecne SLI dostępności dla kluczowego API?". Jeśli nikt nie zna odpowiedzi, właśnie znalazłeś swój punkt startowy.
2.  **Wybierz jedną krytyczną ścieżkę użytkownika** (np. logowanie, płatność) i zacznij mierzyć jej dostępność i opóźnienia. Rób to przez 30 dni, aby poznać swój punkt odniesienia.

\
A jeśli chcesz strategicznie wdrożyć kulturę SLO/Error Budget w swojej organizacji:

> Zapraszam na **30-minutową sesję strategiczną**. Pomogę Ci zdefiniować pierwsze, sensowne SLI/SLO, dobrać narzędzia do ich monitorowania i ustalić zasady, które pozwolą Twojemu zespołowi nareszcie znaleźć równowagę między szybkością a stabilnością.

**⬇️ Przestań zgadywać, zacznij mierzyć. Umów się na sesję o SLO.**
